{"ast":null,"code":"var _jsxFileName = \"E:\\\\1\\\\2\\\\src\\\\component\\\\freGroup.jsx\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FreGroup(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fre-group\",\n    onClick: getTableData,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item active\",\n      \"data-value\": \"1D\",\n      children: \"1D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item\",\n      \"data-value\": \"1W\",\n      children: \"1W\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item\",\n      \"data-value\": \"2W\",\n      children: \"2W\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item\",\n      \"data-value\": \"1M\",\n      children: \"1M\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item\",\n      \"data-value\": \"3M\",\n      children: \"3M\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item\",\n      \"data-value\": \"6M\",\n      children: \"6M\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item\",\n      \"data-value\": \"1Y\",\n      children: \"1Y\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fre-item\",\n      \"data-value\": \"YTD\",\n      children: \"YTD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4,\n    columnNumber: 13\n  }, this);\n}\n_c = FreGroup;\n\nfunction selectWindow(evt) {\n  const freGroup = evt.currentTarget;\n  const activeEl = freGroup.querySelector('.fre-item.active');\n\n  if (activeEl) {\n    // 修改点击前激活的按钮A\n    activeEl.classList.remove('active');\n  }\n\n  const freEl = evt.target;\n  freEl.classList.add('active');\n  return freEl.dataset.value;\n}\n\nfunction getTableData(evt) {\n  const fre = selectWindow(evt);\n  alert(fre);\n  console.log(`../public/data/${fre}.json`);\n  fetch(`./data/${fre}.json`).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n  }).then(data => {\n    console.log(\"data.value=\" + data.value);\n    console.log(\"len=\" + data.value.length);\n    setTableData(data);\n  });\n}\n\nfunction setTableData(data) {\n  const dataTableEl = document.querySelector('.data-table');\n  let content = '';\n  console.log(\"data.value=\" + data.value);\n  let totalBuy = 0,\n      totalSell = 0,\n      netQuantity = 0,\n      totalBuyNotional = 0,\n      totalSellNotional = 0,\n      notionalQUantity = 0;\n  data.value.forEach(d => {\n    content += `<tr>\n                        <td>${d.date}</td>\n                        <td>${d.clientName}</td>\n                        <td>${d.clientSide}</td>\n                        <td>${d.ticker}</td>\n                        <td>${d.ric}</td>\n                        <td>${d.size}</td>\n                        <td>${d.price}</td>\n                        <td>${d.notional}</td>\n                        <td>${d.currency}</td>\n                        <td>${d.sector}</td>\n                        <td>${d.salesperson}</td>\n                        <td>${d.hp}</td>\n                    </tr>`;\n    const price = parseFloat(d.price.replace(/,/g, \"\"));\n    const size = parseFloat(d.size);\n    const notional = parseFloat(d.notional.replace(/,/g, \"\"));\n\n    if (d.clientSide == \"Buy\") {\n      totalBuy += price * size;\n      totalBuyNotional += notional * size;\n    } else {\n      totalSell += price * size;\n      totalSellNotional += notional * size;\n    }\n  });\n  console.log(content);\n  const tbody = document.querySelector('tbody');\n  tbody.innerHTML = content;\n  netQuantity = totalBuy - totalSell;\n  notionalQUantity = totalBuyNotional - totalSellNotional;\n  const summaryItems = document.querySelector('.summary-items');\n  summaryItems.innerHTML = `\n        <span>\n            <label class=\"total-buy\">Total Buy:</label>\n            ${totalBuy}\n        </span>\n        <span>\n            <label class=\"total-sell\">Total Sell:</label>\n            ${totalSell}\n        </span>\n        <span>\n            <label class=\"net-quantity\">Net Quantity:</label>\n            ${netQuantity}\n        </span>\n        <span>\n            <label class=\"total-buy-notional\">Total Buy Notional:</label>\n            ${totalBuyNotional}\n        </span>\n        <span>\n            <label class=\"total-sell-notional\">Total Sell Notional:</label>\n            ${totalSellNotional}\n        </span>\n        <span>\n            <label class=\"net-notional\">Net Notional:</label>\n            ${notionalQUantity}\n        </span>\n        <span class=\"records\">\n            <label>Records:</label>\n            ${data.value.length}\n        </span>\n    `; // console.log('totalBuy = '+ totalBuy)\n  // summaryItems.children[0].outerText = `Total Buy: ${totalBuy}`\n  // summaryItems.children[1].outerText = `Total Sell: ${totalSell}`\n  // summaryItems.children[2].outerText = `Net Quantity: ${totalBuy-totalSell}`\n  // summaryItems.children[3].outerText = `Total Buy Notional: ${totalBuyNotional}`\n  // summaryItems.children[4].outerText = `Total Sell Notional: ${totalSellNotional}`\n  // summaryItems.children[5].outerText = `Net Notional: ${totalBuyNotional-totalSellNotional}`\n  // summaryItems.children[6].outerText = `Records: ${data.value.length}`\n}\n\nfunction init() {\n  getTableData('1D');\n}\n\ninit();\n\nvar _c;\n\n$RefreshReg$(_c, \"FreGroup\");","map":{"version":3,"names":["React","FreGroup","props","getTableData","selectWindow","evt","freGroup","currentTarget","activeEl","querySelector","classList","remove","freEl","target","add","dataset","value","fre","alert","console","log","fetch","then","res","ok","json","data","length","setTableData","dataTableEl","document","content","totalBuy","totalSell","netQuantity","totalBuyNotional","totalSellNotional","notionalQUantity","forEach","d","date","clientName","clientSide","ticker","ric","size","price","notional","currency","sector","salesperson","hp","parseFloat","replace","tbody","innerHTML","summaryItems","init"],"sources":["E:/1/2/src/component/freGroup.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default function FreGroup(props){\r\n    return  <div className=\"fre-group\" onClick={getTableData}>\r\n                <span className=\"fre-item active\" data-value=\"1D\">1D</span>\r\n                <span className=\"fre-item\" data-value=\"1W\">1W</span>\r\n                <span className=\"fre-item\" data-value=\"2W\">2W</span>\r\n                <span className=\"fre-item\" data-value=\"1M\">1M</span>\r\n                <span className=\"fre-item\" data-value=\"3M\">3M</span>\r\n                <span className=\"fre-item\" data-value=\"6M\">6M</span>\r\n                <span className=\"fre-item\" data-value=\"1Y\">1Y</span>\r\n                <span className=\"fre-item\" data-value=\"YTD\">YTD</span>\r\n            </div>\r\n}\r\n\r\nfunction selectWindow(evt){\r\n    const freGroup = evt.currentTarget\r\n    const activeEl = freGroup.querySelector('.fre-item.active')\r\n    if (activeEl) {     // 修改点击前激活的按钮A\r\n        activeEl.classList.remove('active')\r\n    }\r\n\r\n    const freEl = evt.target      \r\n    freEl.classList.add('active')\r\n    return freEl.dataset.value\r\n}\r\n\r\nfunction getTableData(evt){\r\n    const fre = selectWindow(evt)\r\n    alert(fre)\r\n    console.log(`../public/data/${fre}.json`)\r\n    fetch(`./data/${fre}.json`).then(res => {\r\n        if (res.ok){\r\n            return res.json()\r\n        }\r\n    }).then(data => {\r\n        console.log(\"data.value=\"+data.value)\r\n        console.log(\"len=\"+data.value.length)\r\n        setTableData(data)\r\n    })\r\n}\r\n\r\nfunction setTableData(data){\r\n    const dataTableEl = document.querySelector('.data-table')\r\n    let content = ''\r\n    console.log(\"data.value=\"+data.value)\r\n    \r\n    let totalBuy=0, totalSell=0, netQuantity=0, totalBuyNotional=0, totalSellNotional=0, notionalQUantity=0\r\n    data.value.forEach(d => {\r\n        content += `<tr>\r\n                        <td>${d.date}</td>\r\n                        <td>${d.clientName}</td>\r\n                        <td>${d.clientSide}</td>\r\n                        <td>${d.ticker}</td>\r\n                        <td>${d.ric}</td>\r\n                        <td>${d.size}</td>\r\n                        <td>${d.price}</td>\r\n                        <td>${d.notional}</td>\r\n                        <td>${d.currency}</td>\r\n                        <td>${d.sector}</td>\r\n                        <td>${d.salesperson}</td>\r\n                        <td>${d.hp}</td>\r\n                    </tr>`\r\n        const price = parseFloat(d.price.replace(/,/g, \"\"))\r\n        const size = parseFloat(d.size)\r\n        const notional = parseFloat(d.notional.replace(/,/g, \"\"))\r\n        if (d.clientSide==\"Buy\"){\r\n            totalBuy += price * size\r\n            totalBuyNotional += notional * size\r\n        }else{\r\n            totalSell += price * size\r\n            totalSellNotional += notional * size\r\n        }\r\n    })\r\n    console.log(content)\r\n    const tbody = document.querySelector('tbody')\r\n    tbody.innerHTML = content\r\n\r\n    netQuantity = totalBuy - totalSell\r\n    notionalQUantity = totalBuyNotional - totalSellNotional\r\n    const summaryItems = document.querySelector('.summary-items')\r\n    summaryItems.innerHTML = `\r\n        <span>\r\n            <label class=\"total-buy\">Total Buy:</label>\r\n            ${totalBuy}\r\n        </span>\r\n        <span>\r\n            <label class=\"total-sell\">Total Sell:</label>\r\n            ${totalSell}\r\n        </span>\r\n        <span>\r\n            <label class=\"net-quantity\">Net Quantity:</label>\r\n            ${netQuantity}\r\n        </span>\r\n        <span>\r\n            <label class=\"total-buy-notional\">Total Buy Notional:</label>\r\n            ${totalBuyNotional}\r\n        </span>\r\n        <span>\r\n            <label class=\"total-sell-notional\">Total Sell Notional:</label>\r\n            ${totalSellNotional}\r\n        </span>\r\n        <span>\r\n            <label class=\"net-notional\">Net Notional:</label>\r\n            ${notionalQUantity}\r\n        </span>\r\n        <span class=\"records\">\r\n            <label>Records:</label>\r\n            ${data.value.length}\r\n        </span>\r\n    `\r\n    // console.log('totalBuy = '+ totalBuy)\r\n    // summaryItems.children[0].outerText = `Total Buy: ${totalBuy}`\r\n    // summaryItems.children[1].outerText = `Total Sell: ${totalSell}`\r\n    // summaryItems.children[2].outerText = `Net Quantity: ${totalBuy-totalSell}`\r\n    // summaryItems.children[3].outerText = `Total Buy Notional: ${totalBuyNotional}`\r\n    // summaryItems.children[4].outerText = `Total Sell Notional: ${totalSellNotional}`\r\n    // summaryItems.children[5].outerText = `Net Notional: ${totalBuyNotional-totalSellNotional}`\r\n    // summaryItems.children[6].outerText = `Records: ${data.value.length}`\r\n}\r\n\r\nfunction init(){\r\n    getTableData('1D')\r\n}\r\n\r\ninit()"],"mappings":"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"},"metadata":{},"sourceType":"module"}