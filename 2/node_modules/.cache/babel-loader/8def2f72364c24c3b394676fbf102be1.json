{"ast":null,"code":"var _jsxFileName = \"E:\\\\1\\\\2\\\\src\\\\container\\\\chartView.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react';\nimport _ from 'lodash';\nimport Highcharts from 'highcharts/highstock'; // import HighchartsMore from 'highcharts/highcharts-more';\n// import HighchartsDrilldown from 'highcharts/modules/drilldown';\n// import { Chart, Options, Point, Series } from 'highcharts';\n\nimport HighchartsReact from 'highcharts-react-official';\nimport highcharts3d from 'highcharts/highcharts-3d';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nhighcharts3d(Highcharts);\n\nconst Pie = props => {\n  _s();\n\n  const {\n    employmentInfo,\n    getPeopleList,\n    setVisible\n  } = props;\n  const data = employmentInfo.length !== 0 ? [[employmentInfo[0].label, employmentInfo[0].value], [employmentInfo[1].label, employmentInfo[1].value], [employmentInfo[2].label, employmentInfo[2].value], [employmentInfo[3].label, employmentInfo[3].value], [employmentInfo[4].label, employmentInfo[4].value]] : [];\n  const chart = useRef();\n  const options = {\n    chart: {\n      backgroundColor: 'transparent',\n      type: 'pie',\n      options3d: {\n        enabled: true,\n        alpha: 25,\n        beta: 0\n      },\n      height: 230,\n      width: 230\n    },\n    title: {\n      text: '余东村就业情况',\n      y: 66,\n      x: 35,\n      style: {\n        color: '#fff',\n        fontSize: '14px'\n      }\n    },\n    tooltip: {\n      pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n    },\n    plotOptions: {\n      pie: {\n        allowPointSelect: true,\n        cursor: 'pointer',\n        depth: 35,\n        dataLabels: {\n          enabled: false,\n          format: '{point.name}'\n        }\n      }\n    },\n    series: [{\n      type: 'pie',\n      name: '所占比例',\n      data: data,\n      showInLegend: true,\n      events: {\n        click: function (e) {\n          getPeopleList({\n            income: e.point.options.name\n          });\n          setVisible(true);\n        }\n      }\n    }],\n    legend: {\n      align: 'left',\n      // y: '-10',\n      layout: 'vertical',\n      itemStyle: {\n        color: '#ffffffe6'\n      }\n    },\n    credits: {\n      // 版权信息 (去水印)\n      enabled: false\n    }\n  }; // 避免首次加载时,还没有拿到数据之前,页面就进行加载而导致没有数据;\n\n  useEffect(() => {\n    const reload = _.throttle(() => {\n      chart.current.update({\n        chart: {\n          backgroundColor: 'transparent',\n          type: 'pie',\n          options3d: {\n            enabled: true,\n            alpha: 45\n          },\n          // height: getRemSize(180),\n          height: 200,\n          width: 200\n        },\n        series: [{\n          type: 'pie',\n          name: '所占比例',\n          data: data,\n          events: {\n            click: function (e) {\n              getPeopleList({\n                income: e.point.options.name\n              });\n              setVisible(true);\n            }\n          }\n        }]\n      });\n    }, 500);\n\n    window.addEventListener('resize', reload);\n    return () => window.removeEventListener('resize', reload);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(HighchartsReact, {\n    highcharts: Highcharts,\n    options: options,\n    callback: ref => chart.current = ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Pie, \"6LQCjfW1/Z11HTi/sSFZT06qnlI=\");\n\n_c = Pie;\nexport default Pie;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pie\");","map":{"version":3,"names":["React","useRef","useEffect","_","Highcharts","HighchartsReact","highcharts3d","Pie","props","employmentInfo","getPeopleList","setVisible","data","length","label","value","chart","options","backgroundColor","type","options3d","enabled","alpha","beta","height","width","title","text","y","x","style","color","fontSize","tooltip","pointFormat","plotOptions","pie","allowPointSelect","cursor","depth","dataLabels","format","series","name","showInLegend","events","click","e","income","point","legend","align","layout","itemStyle","credits","reload","throttle","current","update","window","addEventListener","removeEventListener","ref"],"sources":["E:/1/2/src/container/chartView.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport _ from 'lodash';\r\nimport Highcharts from 'highcharts/highstock';\r\n// import HighchartsMore from 'highcharts/highcharts-more';\r\n// import HighchartsDrilldown from 'highcharts/modules/drilldown';\r\n// import { Chart, Options, Point, Series } from 'highcharts';\r\nimport HighchartsReact from 'highcharts-react-official';\r\nimport highcharts3d from 'highcharts/highcharts-3d';\r\n\r\nhighcharts3d(Highcharts);\r\nconst Pie = (props) => {\r\n  const { employmentInfo, getPeopleList, setVisible } = props\r\n\r\n  const data = employmentInfo.length !== 0 ? [[employmentInfo[0].label, employmentInfo[0].value],\r\n  [employmentInfo[1].label, employmentInfo[1].value],\r\n  [employmentInfo[2].label, employmentInfo[2].value],\r\n  [employmentInfo[3].label, employmentInfo[3].value],\r\n  [employmentInfo[4].label, employmentInfo[4].value],] : []\r\n\r\n  const chart = useRef();\r\n  const options = {\r\n    chart: {\r\n      backgroundColor: 'transparent',\r\n      type: 'pie',\r\n      options3d: {\r\n        enabled: true,\r\n        alpha: 25,\r\n        beta: 0\r\n      },\r\n      height: 230,\r\n      width: 230,\r\n    },\r\n    title: {\r\n      text: '余东村就业情况',\r\n      y: 66,\r\n      x: 35,\r\n      style: {\r\n        color: '#fff',\r\n        fontSize: '14px',\r\n      },\r\n    },\r\n    tooltip: {\r\n      pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\r\n    },\r\n\r\n    plotOptions: {\r\n      pie: {\r\n        allowPointSelect: true,\r\n        cursor: 'pointer',\r\n        depth: 35,\r\n        dataLabels: {\r\n          enabled: false,\r\n          format: '{point.name}'\r\n        }\r\n      }\r\n    },\r\n    series: [{\r\n      type: 'pie',\r\n      name: '所占比例',\r\n      data: data,\r\n      showInLegend: true,\r\n      events: {\r\n        click: function (e) {\r\n          getPeopleList({ income: e.point.options.name })\r\n          setVisible(true)\r\n        }\r\n      }\r\n    },\r\n    ],\r\n    legend: {\r\n      align: 'left',\r\n      // y: '-10',\r\n      layout: 'vertical',\r\n      itemStyle: {\r\n        color: '#ffffffe6',\r\n      },\r\n    },\r\n    credits: {\r\n      // 版权信息 (去水印)\r\n      enabled: false,\r\n    },\r\n  }\r\n\r\n  // 避免首次加载时,还没有拿到数据之前,页面就进行加载而导致没有数据;\r\n  useEffect(() => {\r\n    const reload = _.throttle(() => {\r\n      chart.current.update({\r\n        chart: {\r\n          backgroundColor: 'transparent',\r\n          type: 'pie',\r\n          options3d: {\r\n            enabled: true,\r\n            alpha: 45,\r\n          },\r\n          // height: getRemSize(180),\r\n          height: 200,\r\n          width: 200,\r\n        },\r\n        series: [{\r\n          type: 'pie',\r\n          name: '所占比例',\r\n          data: data,\r\n          events: {\r\n            click: function (e) {\r\n              getPeopleList({ income: e.point.options.name })\r\n              setVisible(true)\r\n            }\r\n          }\r\n        },]\r\n      });\r\n    }, 500);\r\n    window.addEventListener('resize', reload);\r\n    return () => window.removeEventListener('resize', reload);\r\n  }, []);\r\n  return (\r\n    <HighchartsReact\r\n      highcharts={Highcharts}\r\n      options={options}\r\n      callback={(ref) => (chart.current = ref)}\r\n  \r\n    />\r\n  )\r\n}\r\nexport default Pie\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}